<script>

    $.datepicker.regional['es'] = {
       monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
       monthNamesShort: ['Enero','Febrero','Marzo','Abril', 'Mayo','Junio','Julio','Agosto','Septiembre', 'Octubre','Noviembre','Diciembre'],
       dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles',   'Jueves', 'Viernes', 'Sábado'],
       dayNamesShort: ['Dom','Lun','Mar','Mié','Juv','Vie','Sáb'],
       dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','Sá'],
       weekHeader: 'Sm',
       dateFormat: 'mm/dd/yy',
       firstDay: 1,
       isRTL: false,
       showMonthAfterYear: false,
       yearSuffix: ''
       };
       $.datepicker.setDefaults($.datepicker.regional['es']);
    
       const dateToday = new Date();
       const yrRange = '1900' + ":" + (dateToday.getFullYear());
       const hoy = new Date().getDate();
     $(function () {
     $("#fechaInstalacion").datepicker({
       yearRange: yrRange,
       maxDate:hoy,
       changeMonth: true,
       changeYear: true
    
     });
    });
  
  
    // ====================================================================-->
    //=== ATRAPAR EL NOMBRE DEL CAMPO LICIENCIA Y REFLEJARLO EN EL INPUT == -->
    //====================================================================-->
    $(function () {
  
  // This code will attach `fileselect` event to all file inputs on the page
  $(document).on('change', ':file', function () {
    var input = $(this),
      numFiles = input.get(0).files ? input.get(0).files.length : 1,
      label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
    input.trigger('fileselect', [numFiles, label]);
  });
  
  
  $(document).ready(function () {
    //below code executes on file input change and append name in text control
    $(':file').on('fileselect', function (event, numFiles, label) {
  
      var input = $(this).parents('.input-group').find(':text'),
        log = numFiles > 1 ? numFiles + ' files selected' : label;
  
      if (input.length) {
        input.val(log);
      } else {
        if (log) alert(log);
      }
  
    });
  });
  
  });
  
  
  ////VALIDAR LIMITANTE DEL CAMPO NUMBER///=-->
  
  function maxlengthNumber(obj) {
  console.log(obj.value);
  if (obj.value.length > obj.maxLength) {
    obj.value = obj.value.slice(0, obj.maxLength);
    }
  }
  // ===========================
  
   // ============ validar el campo licencia de conduccion ===== -->
  
    // V1: validación el tamaño maximo 5 MB 
    // V2: convertir minusculas a mayusculas
    // V3: tipo de archivo aceptados
  
    $(document).on('change', 'input[type="file"]', function () {
      // this.files[0].size recupera el tamaño del archivo
      // alert(this.files[0].size);
  
      var fileName = this.files[0].name;
      var fileSize = this.files[0].size;
  
      if (fileSize > 5000000) { //  V1 --> validacion del tamaño de archivo
        alertify.set('notifier', 'position', 'top-center');
        alertify.error('El archivo supera los 5MB de peso');
        this.value = '';
        this.files[0].name = '';
      } else {
        // recuperamos la extensión del archivo
        var ext = fileName.split('.').pop();
  
        // V2: --> Convertimos en minúscula porque la extensión del archivo puede estar en mayúscula
        ext = ext.toLowerCase();
  
        // console.log(ext);
        switch (ext) { // V3: --> aqui eligo el formato del restringido 
          case 'png':
          case 'jpg':
          case 'jpeg':
            break;
          default:
            alertify.set('notifier', 'position', 'top-center');
            alertify.error('Solo archivos .jpg o .png son aceptados');
  
            this.value = ''; // reset del valor
            this.files[0].name = '';
        }
      }
  
    });
    
    </script>
    </body>
    
    </html>
    
    
    