
<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8" />
  <title>Ventas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="Premium Multipurpose Admin & Dashboard Template" name="description">
  <meta content="Themesbrand" name="author">
  <!-- App favicon -->
  <link rel="shortcut icon" href="../directorio_dash/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="../css/colors.min.css">

  <base href="#">

  

<!-- DataTables -->
<link href="../directorio_dash/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css"
rel="stylesheet" type="text/css" />
 <!-- Responsive datatable examples -->
<link href="../directorio_dash/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css"
 rel="stylesheet" type="text/css" />
 <!-- preloader css -->
<link rel="stylesheet" href="../directorio_dash/css/preloader.min.css" type="text/css" />
<!-- Bootstrap Css -->
<link rel="stylesheet" type="text/css" href="../directorio_dash/css/bootstrap.min.css" id="bootstrap-style" />
<!-- Icons Css -->
<link rel="stylesheet" type="text/css" href="../directorio_dash/css/icons.min.css" />
<!-- App Css-->
<link rel="stylesheet" type="text/css" href="../directorio_dash/css/app.min.css" id="app-style" />
<!-- Tipo de letra -->
<link rel="stylesheet" href="../css/typeFont.css" type="text/css" />
<!-- scroll -->
<link rel="stylesheet" href="../css/scrolls.css">

</head>

<body>

  <!-- Begin page -->
  <div id="layout-wrapper">

   <!-- =======FIXME: MENU ========================== -->
   <%- include ('../1-admin/menu.ejs')%>
   <!-- =======FIXME: MENU ========================== -->

   <div class="main-content">
    <div class="page-content">
      <div class="container-fluid">
        <div class="card-body">
         
            <div class="table-responsive mb-4">
                <table class="table align-middle datatable dt-responsive table-check nowrap " style="border-collapse: collapse;
                    border-spacing: 0 8px; width: 100%;" >
                    <thead>
                      <th scope="col" title="Id de factura">Factura</th>
                        <th scope="col" title="Fecha de factura">Fecha de instalaci贸n</th>
                        <th scope="col">Nombre del cliente</th> <!--Primer nombre y primer apellido-->
                        <th scope="col">Producto</th>
                    </thead>
                  
                    
                    <tbody>
                            <tr>
                                <td><button data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" 
                                    aria-controls="offcanvasRight" style="background: none;border: none;margin: 0;"><= venta.id_factura %>
                                   </button>
                                </td>
                                <td><= venta.fecha_instalacion %></td>
                                <td style="text-transform: capitalize;"><= venta.nombre %> <= venta.apellido %></td>
                                <td><= venta.producto_instalado %></td>
                            </tr>
                   </tbody>
             
                </table>
       
                   <!-- right offcanvas -->
                  
                   <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" style="width: 50%;padding: 0px 0px 0px 37px;" aria-labelledby="offcanvasRightLabel" >
                   <div class="offcanvas-header"> <h1 id="offcanvasRightLabel" style=" font-size: 111%; "></h1> 
                      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                   </div>
                <div class="offcanvas-body scroll_vertical">
                    <div class="row">
                        <div class="col-lg-12" style="margin-left: -1%;">
                            <div class="">
                                <div class="">
                                    <div class="invoice-title">
                                        <div class="d-flex align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="mb-4">
                                                    <img src="../directorio_dash/images/logo.svg" alt="" height="40"><span class="logo-txt"></span>
                                                </div>
                                            </div>
                                            <div class="flex-shrink-0">
                                                <div class="mb-4">
                                                    <h4 class="float-end font-size-16">Factura: 12345</h4> <!-- 000001 -->
                                                </div>
                                            </div>
                                        </div>
                                        
                                <!-- 
                                        <p class="mb-1">1874 County Line Road City, FL 33566</p>
                                        <p class="mb-1"><i class="mdi mdi-email align-middle me-1"></i> abc@123.com</p>
                                        <p><i class="mdi mdi-phone align-middle me-1"></i> 012-345-6789</p>  -->
                                    </div>
                                    <hr class="my-4">
                                    <div class="row"> <!-- style="margin-left: 13%;" -->
                                        <div class="col-sm-6">
                                            <div>
                                                <h5 class="font-size-15 mb-2">Producto</h5> 
                                                <p class="mb-1">Whole System</p> 
                                                <p class="mb-1 badge badge-soft-success font-size-12">$6.800</p><!--Color verde--> 
                                               
                                                <h5 class="font-size-14 mb-2">Cliente </h5>
                                                <p class="mb-1 badge badge-soft-dark font-size-12">46134</p> 
                                                <p class="mb-1">(+3)234345</p>
                                                <p>Estados unidos, miami, 0121</p>
                                             </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div>
                                                <div>
                                                    <h5 class="font-size-15">Fecha de instalaci贸n</h5>
                                                    <p>February 16, 2020</p>
                                                   
                                                </div>
                                                
                                                <div class="mt-4">
                                                    <h5 class="font-size-15">Vendedor</h5>
                                                    <p class="mb-1 badge badge-soft-dark font-size-12">46134</p> 
                                                    <p class="mb-1">Nivel: 2</p>
                                                    <p class="mb-1">(+3)234345</p>
                                                  </div>
                                              
                                            </div>
                                        </div>
                                    </div>
                                    <div class="py-2 mt-3">
                                        <!-- <center> -->
                                            <h5 class="badge badge-soft-success font-size-12">Comisi贸n vendedor: $234 </h5>
                                        <!-- </center> -->
                                        <a href="/create/<%- epa.id_cliente%>" class="btn btn-primary btn-rounded btn-md" style="float: right">
                                            <i class="fa fa-plus"></i> Otro 
                                        </a>
                                  </div>
                               
                           
                                    <div class="py-2 mt-3">
                                        <h5 class="font-size-15">Deducciones </h5>
                                        <!-- Colocar boton al frende de Deducciones  signo mas para agregar otro campo -->
                                    </div>
                                    
                                    <div class="">
                                        <div class="table-responsive" style="padding: 12px;">
                                            <table class="table table-editable table-nowrap align-middle table-edits">
                                                <thead>
                                                    <tr>
                                                        <th >No.</th> <!--Numero de deducciones-->
                                                        <th>Descripci贸n</th>
                                                        <th >Monto</th>
                                                        <th ></th>
                                                        <th ></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td data-field="id" >01</td>
                                                        <td data-field="name">David McHenry</td>
                                                        <td data-field="age"><div class="badge badge-soft-success font-size-12">$499.00</div></td>
                                                        <td style="width: 10%">
                                                            <a class="btn btn-dark btn-rounded btn-sm edit" title="Edit">
                                                                <i class="fas fa-pencil-alt"></i>  
                                                            </a>
                                                        </td>
                                                        <td>
                                                            <a class="btn btn-danger btn-rounded btn-sm edit" title="Edit">
                                                                <i class="fas fa-trash-alt"></i>  
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td data-field="id" >02</td>
                                                        <td data-field="name">Frank Jery</td>
                                                        <td data-field="age"><div class="badge badge-soft-success font-size-12">$499.00</div></td>
                                                        <td style="width: 100px">
                                                            <a class="btn btn-dark btn-rounded btn-sm edit" title="Edit">
                                                                <i class="fas fa-pencil-alt"></i>  
                                                            </a>
                                                        </td>
                                                        <td style="width: 100px">
                                                            <a class="btn btn-danger btn-rounded btn-sm edit" title="Edit">
                                                                <i class="fas fa-trash-alt"></i>  
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-end"></td>
                                                        <td class="text-end" style="font-weight: 700;font-size: 15px;"><b>Sub total</b></td>
                                                        <td class="text-end">$998.00</td>
                                                        <td class="text-end"></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-end"></td>
                                                        <td class="text-end" style="font-weight: 700;font-size: 15px;"><b>Total</b></td>
                                                        <td class="text-end">$998.00</td>
                                                        <td class="text-end"></td>
                                                        <td></td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="d-print-none mt-3">
                                        <!-- <div class="float-end">
                                            <a href="javascript:window.print()" class="btn btn-success waves-effect waves-light me-1" style="
                                            border-radius: 17px;
                                            font-size: 12px;
                                            width: 21%;
                                            margin-left: -12%;"><i class="fa fa-print"></i></a> -->
                                            <!-- <a href="#" class="btn btn-primary w-md waves-effect waves-light" style="border-radius: 17px;">Guardar</a> -->
                                         <center><a href="#" class="btn btn-primary w-md waves-effect waves-light" style="border-radius: 17px;">Reportar como pagada</a></center>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
       
      
                   </div>
               </div>
        </div>


        
           
   

            
            </div>
         </div>
        
      </div>
      
      
    <!-- =======FIXME: copyright ========================== -->
    <%- include ('../partials/copyright.ejs')%>
    <!-- =======FIXME: copyright ========================== -->
  
    </div>
  </div>

<!-- /Right-bar -->

   <!-- JAVASCRIPT -->
<script src="../directorio_dash/js/scripts_personalizadosdash.js"></script>
<script src="../directorio_dash/libs/jquery/jquery.min.js"></script>
<script src="../directorio_dash/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../directorio_dash/libs/metismenu/metisMenu.min.js"></script>
<script src="../directorio_dash/libs/simplebar/simplebar.min.js"></script>
<script src="../directorio_dash/libs/node-waves/waves.min.js"></script>
<script src="../directorio_dash/libs/feather-icons/feather.min.js"></script>
<!-- pace js -->
<script src="../directorio_dash/libs/pace-js/pace.min.js"></script>

<!-- Required datatable js -->
<script src="../directorio_dash/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="../directorio_dash/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<!-- Responsive examples -->
<script src="../directorio_dash/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="../directorio_dash/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
<!-- init js -->
<script src="../directorio_dash/js/pages/datatable-pages.init.js"></script>
<!-- Table Editable plugin -->
<script src="../directorio_dash/libs/table-edits/build/table-edits.min.js"></script>
<script src="../directorio_dash/js/pages/table-editable.int.js"></script> 

               
 <script src="../directorio_dash/js/app.js"></script>

 <script type="text/javascript">

    // $(document).ready(function () {
    //     var maxField = 3; //Input fields increment limitation
    //     var addButton = $('.add_button'); //Add button selector
    //     var wrapper = $('.form'); //Input field wrapper
    
    //     var fieldHTML = 
    //     '<div class="table-responsive" style="padding: 12px;">'+
    //     '<table class="table table-editable table-nowrap align-middle table-edits">'+
    //     '<tr>' +
    //         '<td data-field="id" id="unidad" name="unidad[]" >xxx</td>' +
    //         '<td data-field="name" id="cantidad" name="cantidad[]">xxxx</td>' + 
    //         '<td style="width: 10%"> <a class="btn btn-dark btn-rounded btn-sm edit" title="Edit"> <i class="fas fa-pencil-alt"></i></a>' +
    //         '</td>' +
    //         '</tr>' +
    //       '&nbsp;&nbsp;&nbsp;<a href="javascript:void(0);" class="btn btn-sm btn-danger remove_button" title="Remove field">Eliminar<i class="fa fa-close"></i></a>' ;  
    //       '</table>'
    //       '</div>'
    
    
    //     // var fieldHTML = 
    //     // '<tr>' +
    //     //     '<td><button data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" ' +
    //     //     'aria-controls="offcanvasRight" style="background: none;border: none;margin: 0;"><= venta.id_factura %>' +
    //     //     '</button>' +
    //     //     '</td>' +
    //     //     '<td><= venta.fecha_instalacion %></td>' +
    //     //     '<td style="text-transform: capitalize;"><= venta.nombre %> <= venta.apellido %></td>' +
    //     //     '<td><= venta.producto_instalado %></td>' +
    //     //     '</tr>';
    
    //     var x = 1; //Initial field counter is 1
    //     $(addButton).click(function () { //Once add button is clicked
    //         if (x < maxField) { //Check maximum number of input fields
    //             x++; //Increment field counter
    //             $(wrapper).append(fieldHTML); // Add field html
    //         }
    //     });
    
    //     $(wrapper).on('click', '.remove_button', function (e) { //Once remove button is clicked
    //         e.preventDefault();
    //         $(this).parent('div').remove(); //Remove field html
    //         x--; //Decrement field counter
    //     });
    
    //     $(document).on('keyup', ".form-group", function () {
    //         var cantidad = $(this).find("input[title=cantidad]").val();
    //         var pu = $(this).find("input[title=pu]").val();
    
    //         $(this).find("[title=subtotal]").html(parseInt(cantidad) * parseInt(pu));
    
    //         //subtotal = cantidad * pu;
    //         //document.formulario_01.subtotal.value = subtotal;
    //     });
    // });
          </script>
  

  <style>
	#content{
		position: absolute;
		min-height: 50%;
		width: 80%;
		top: 20%;
		left: 5%;
	}

	.selected{
		cursor: pointer;
	}
	.selected:hover{
		background-color: #0585C0;
		color: white;
	}
	.seleccionada{
		background-color: #0585C0;
		color: white;
	}
</style>
<script>
	$(document).ready(function(){
		$('#bt_add').click(function(){
			agregar();
		});
		$('#bt_del').click(function(){
			eliminar(id_fila_selected);
		});
		$('#bt_delall').click(function(){
			eliminarTodasFilas();
		});
		

	});
	var cont=0;
	var id_fila_selected=[];
	function agregar(){
		cont++;
		var fila='<tr class="selected" id="fila'+cont+'" onclick="seleccionar(this.id);">'+
            '<td>'+cont+'</td>'+
            '<td>texto x defecto</td>'+
            '<td>0.00</td>'+
            '<td style="width: 10%">'+
                                    '<a class="btn btn-dark btn-rounded btn-sm edit" title="Edit">'+
                                        '<i class="fas fa-pencil-alt"></i>'+ 
                                    '</a>'+
                                '</td>'+
            '</tr>';
		$('#tabla').append(fila);
		reordenar();
	}

	function seleccionar(id_fila){
		if($('#'+id_fila).hasClass('seleccionada')){
			$('#'+id_fila).removeClass('seleccionada');
		}
		else{
			$('#'+id_fila).addClass('seleccionada');
		}
		//2702id_fila_selected=id_fila;
		id_fila_selected.push(id_fila);
	}

	function eliminar(id_fila){
		/*$('#'+id_fila).remove();
		reordenar();*/
		for(var i=0; i<id_fila.length; i++){
			$('#'+id_fila[i]).remove();
		}
		reordenar();
	}

	function reordenar(){
		var num=1;
		$('#tabla tbody tr').each(function(){
			$(this).find('td').eq(0).text(num);
			num++;
		});
	}
	function eliminarTodasFilas(){
$('#tabla tbody tr').each(function(){
			$(this).remove();
		});

	}


</script>


</body>

</html>